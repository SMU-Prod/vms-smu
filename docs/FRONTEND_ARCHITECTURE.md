# Frontend Architecture - VMS Enterprise
**Cliente Web tipo Digifort - SolidJS + WebRTC**

---

## ğŸ“ VisÃ£o Geral

O frontend VMS serÃ¡ uma **aplicaÃ§Ã£o web moderna** (SPA) que replica a experiÃªncia do **Digifort**, usando tecnologias web modernas:

- **SolidJS** - Framework reativo e performÃ¡tico
- **WebRTC** - Streaming de vÃ­deo ao vivo
- **WebSocket** - AtualizaÃ§Ãµes em tempo real
- **TailwindCSS** - EstilizaÃ§Ã£o
- **Vite** - Build tooling

---

## ğŸ¨ Layout Principal (igual Digifort)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [LOGO] VMS Enterprise    [User: Admin â–¼] [Notifs] [Config] â”‚ â† Top Bar
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚      â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚  S   â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚  I   â”‚ â”‚          ÃREA PRINCIPAL                      â”‚  â”‚
â”‚ â”‚  D   â”‚ â”‚          (Live / Playback / Config)          â”‚  â”‚
â”‚ â”‚  E   â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚  B   â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚  A   â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚  R   â”‚ â”‚                                              â”‚  â”‚
â”‚ â”‚      â”‚ â”‚                                              â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Status: 12 cÃ¢meras | 3 eventos | Rec: 2.4TB/5TB            â”‚ â† Status Bar
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± Telas Principais

### 1. **Live View** (VisualizaÃ§Ã£o Ao Vivo)
**Rota:** `/live`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [1x1] [2x2] [3x3] [4x4] [6] [8] [9] [13] [16]  [+Add]  â”‚ â† Layouts
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ CAM 01   â”‚ â”‚ CAM 02   â”‚ â”‚ CAM 03   â”‚ â”‚ CAM 04   â”‚  â”‚
â”‚  â”‚ Entrada  â”‚ â”‚ RecepÃ§Ã£o â”‚ â”‚ Corredor â”‚ â”‚ Estac.   â”‚  â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚  â”‚
â”‚  â”‚  [ğŸ¥]    â”‚ â”‚  [ğŸ¥]    â”‚ â”‚  [ğŸ¥]    â”‚ â”‚  [ğŸ¥]    â”‚  â”‚
â”‚  â”‚          â”‚ â”‚          â”‚ â”‚          â”‚ â”‚          â”‚  â”‚
â”‚  â”‚ REC â—    â”‚ â”‚ REC â—    â”‚ â”‚ REC â—    â”‚ â”‚          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ CAM 05   â”‚ â”‚ CAM 06   â”‚ â”‚ CAM 07   â”‚ â”‚ CAM 08   â”‚  â”‚
â”‚  â”‚ ...      â”‚ â”‚ ...      â”‚ â”‚ ...      â”‚ â”‚ ...      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- âœ… Grade de cÃ¢meras (1x1 atÃ© 16)
- âœ… Drag & drop para trocar posiÃ§Ãµes
- âœ… Double-click para fullscreen
- âœ… Right-click menu (PTZ, Snapshot, Record)
- âœ… Indicadores de gravaÃ§Ã£o (â—)
- âœ… Overlays de informaÃ§Ã£o (nome, status, fps)
- âœ… **Streaming WebRTC** (baixa latÃªncia ~200ms)

**InteraÃ§Ãµes:**
```javascript
// Click direito em cÃ¢mera
[Snapshot]
[Gravar Clipe (30s/1min/5min)]
[PTZ Control]
[Analytics (zones/lines)]
[Propriedades]
```

---

### 2. **Playback** (ReproduÃ§Ã£o)
**Rota:** `/playback`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  CÃ¢mera: [Entrada (CAM 01) â–¼]    Data: [13/12/2025 â–¼]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚              PLAYER DE VÃDEO                      â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â”‚                    [â–¶ï¸]                           â”‚  â”‚
â”‚  â”‚                                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [â—€â—€] [â—€] [â–¶ï¸/â¸] [â–¶] [â–¶â–¶]     Speed: [1x â–¼]           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â† Timeline
â”‚  00:00:00                                    23:59:59  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â–  Motion  â–  AI Detection  â–  Events  â–  Recordingâ”‚  â”‚ â† Event Overlay
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“„ Lista de Eventos:                            â”‚  â”‚
â”‚  â”‚ â€¢ 08:45:12 - Motion Detection                   â”‚  â”‚
â”‚  â”‚ â€¢ 09:23:45 - Person Detected                    â”‚  â”‚
â”‚  â”‚ â€¢ 14:15:00 - Line Crossing                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  [Exportar Clipe] [Criar OcorrÃªncia] [Snapshot]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- âœ… Timeline com eventos sobrepostos
- âœ… Busca por data/hora
- âœ… MÃºltiplas velocidades (0.25x - 16x)
- âœ… Frame-by-frame (â†/â†’)
- âœ… Zoom temporal
- âœ… Multi-cÃ¢mera sync playback
- âœ… Exportar clipes (MP4/AVI)

---

### 3. **Eventos & Alarmes**
**Rota:** `/events`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Filtros: [Todos â–¼] [CrÃ­tico/Alto/MÃ©dio/Baixo] [Hoje â–¼]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚â—â”‚ Hora   â”‚ Evento       â”‚ CÃ¢m. â”‚ Prio.  â”‚ AÃ§Ã£o    â”‚ â”‚
â”‚  â”œâ”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ğŸ”´â”‚14:32:15â”‚Blocklist Faceâ”‚CAM02 â”‚CRÃTICO â”‚[Ver][X] â”‚ â”‚
â”‚  â”‚ğŸŸ¡â”‚14:15:23â”‚Line Crossing â”‚CAM03 â”‚MÃ‰DIO   â”‚[Ver][X] â”‚ â”‚
â”‚  â”‚ğŸŸ¢â”‚13:45:00â”‚Motion Detect â”‚CAM01 â”‚BAIXO   â”‚[Ver][X] â”‚ â”‚
â”‚  â”‚ğŸ”´â”‚12:30:11â”‚Placa Block   â”‚CAM04 â”‚CRÃTICO â”‚[Ver][X] â”‚ â”‚
â”‚  â”‚âšªâ”‚11:22:00â”‚AI Detection  â”‚CAM02 â”‚INFO    â”‚[Ver][X] â”‚ â”‚
â”‚  â””â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Detalhes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ Evento: Blocklist Face Match             â”‚           â”‚
â”‚  â”‚ Hora: 14:32:15 - 13/12/2025              â”‚           â”‚
â”‚  â”‚ CÃ¢mera: CAM02 - RecepÃ§Ã£o                 â”‚           â”‚
â”‚  â”‚ Pessoa: JoÃ£o Silva (Bloqueado)           â”‚           â”‚
â”‚  â”‚ ConfianÃ§a: 94.5%                         â”‚           â”‚
â”‚  â”‚                                           â”‚           â”‚
â”‚  â”‚ [ğŸ¥ Ver VÃ­deo] [ğŸ“¸ Ver Foto]             â”‚           â”‚
â”‚  â”‚ [ğŸ“‹ Criar OcorrÃªncia] [âœ“ Reconhecer]     â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Features:**
- âœ… Lista de eventos em tempo real
- âœ… Filtros (tipo, prioridade, cÃ¢mera, data)
- âœ… Sons de notificaÃ§Ã£o
- âœ… Pop-ups de alerta
- âœ… Acknowledge de eventos
- âœ… CriaÃ§Ã£o rÃ¡pida de ocorrÃªncias
- âœ… WebSocket para updates em tempo real

---

### 4. **OcorrÃªncias** (Evidence)
**Rota:** `/evidence`

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [+ Nova OcorrÃªncia]     Busca: [______]  Status: [â–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ NÂº Caso    â”‚ TÃ­tulo        â”‚ Status â”‚ Data         â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚EVD-20251213â”‚InvasÃ£o noturnaâ”‚ATIVO   â”‚13/12/25 14:30â”‚ â”‚
â”‚  â”‚EVD-20251212â”‚Placa suspeita â”‚EXPORT  â”‚12/12/25 08:15â”‚ â”‚
â”‚  â”‚EVD-20251211â”‚Pessoa nÃ£o aut â”‚ARQUIV  â”‚11/12/25 16:20â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Detalhes da OcorrÃªncia â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ Caso: EVD-20251213-0042                    â”‚         â”‚
â”‚  â”‚ TÃ­tulo: InvasÃ£o noturna no estacionamento  â”‚         â”‚
â”‚  â”‚ Status: ATIVO                              â”‚         â”‚
â”‚  â”‚ Prioridade: ALTO                           â”‚         â”‚
â”‚  â”‚ Criado por: Admin (13/12/2025 14:30)      â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚ DescriÃ§Ã£o:                                 â”‚         â”‚
â”‚  â”‚ Pessoa nÃ£o autorizada detectada...         â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚ ğŸ“ Anexos (3):                             â”‚         â”‚
â”‚  â”‚ â€¢ video_cam01_143015.mp4 (2.3 MB)         â”‚         â”‚
â”‚  â”‚ â€¢ snapshot_face.jpg (145 KB)               â”‚         â”‚
â”‚  â”‚ â€¢ report.pdf (89 KB)                       â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚ ğŸ“œ Cadeia de CustÃ³dia:                     â”‚         â”‚
â”‚  â”‚ â€¢ 13/12 14:30 - Criado por Admin           â”‚         â”‚
â”‚  â”‚ â€¢ 13/12 14:32 - Anexo adicionado           â”‚         â”‚
â”‚  â”‚ â€¢ 13/12 14:45 - Exportado por Admin        â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚ [Editar] [Exportar ZIP] [Arquivar]        â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. **ConfiguraÃ§Ãµes**
**Rota:** `/config`

**Sub-menus:**
```
â”Œâ”€ ConfiguraÃ§Ãµes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¹ CÃ¢meras               â”‚
â”‚ ğŸ‘¥ UsuÃ¡rios & PermissÃµes â”‚
â”‚ ğŸ“Š Regras de Analytics   â”‚
â”‚ ğŸš¨ Alarmes               â”‚
â”‚ ğŸ­ Reconhecimento Facial â”‚
â”‚ ğŸš— LPR (Placas)          â”‚
â”‚ ğŸ—ºï¸  Mapas                â”‚
â”‚ âš™ï¸  Sistema              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.1 ConfiguraÃ§Ã£o de CÃ¢meras

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [+ Adicionar CÃ¢mera ONVIF] [Buscar Rede] [Importar]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ID â”‚ Nome     â”‚ IP         â”‚ Status â”‚ Rec  â”‚ AÃ§Ãµes â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 01 â”‚ Entrada  â”‚192.168.1.10â”‚ğŸŸ¢ ON   â”‚â— REC â”‚[âš™ï¸][X]â”‚ â”‚
â”‚  â”‚ 02 â”‚ RecepÃ§Ã£o â”‚192.168.1.11â”‚ğŸŸ¢ ON   â”‚â— REC â”‚[âš™ï¸][X]â”‚ â”‚
â”‚  â”‚ 03 â”‚ Corredor â”‚192.168.1.12â”‚ğŸ”´ OFF  â”‚      â”‚[âš™ï¸][X]â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Propriedades da CÃ¢mera â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Nome: [Entrada Principal_______]            â”‚        â”‚
â”‚  â”‚ IP: [192.168.1.10____] Porta: [80__]        â”‚        â”‚
â”‚  â”‚ UsuÃ¡rio: [admin____] Senha: [******]        â”‚        â”‚
â”‚  â”‚                                               â”‚        â”‚
â”‚  â”‚ Perfil ONVIF: [Profile_1 â–¼]                 â”‚        â”‚
â”‚  â”‚ ResoluÃ§Ã£o: [1920x1080 â–¼]                    â”‚        â”‚
â”‚  â”‚ FPS: [25____] Qualidade: [MÃ©dia â–¼]          â”‚        â”‚
â”‚  â”‚                                               â”‚        â”‚
â”‚  â”‚ â˜‘ Gravar movimento                           â”‚        â”‚
â”‚  â”‚ â˜‘ Gravar 24/7                                â”‚        â”‚
â”‚  â”‚ â˜‘ Habilitar analytics                        â”‚        â”‚
â”‚  â”‚ â˜ Habilitar PTZ                              â”‚        â”‚
â”‚  â”‚                                               â”‚        â”‚
â”‚  â”‚ [Testar ConexÃ£o] [Salvar] [Cancelar]        â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 5.2 Regras de Analytics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [+ Nova Regra]          CÃ¢mera: [Entrada â–¼]            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Regras Configuradas:                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ Nome           â”‚ Tipo       â”‚ Status  â”‚ AÃ§Ãµes    â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ Zona proibida  â”‚ Intrusion  â”‚ğŸŸ¢ ATIVO â”‚[âš™ï¸][ğŸ—‘ï¸] â”‚   â”‚
â”‚  â”‚ Contagem       â”‚ Line Cross â”‚ğŸŸ¢ ATIVO â”‚[âš™ï¸][ğŸ—‘ï¸] â”‚   â”‚
â”‚  â”‚ Loitering      â”‚ Loitering  â”‚âšª INATIVâ”‚[âš™ï¸][ğŸ—‘ï¸] â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Editor de Zonas â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  [Desenhar Zona] [Desenhar Linha]  â”‚                â”‚
â”‚  â”‚                                      â”‚                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚                â”‚
â”‚  â”‚  â”‚    ğŸ“¹ Preview CAM 01        â”‚    â”‚                â”‚
â”‚  â”‚  â”‚                             â”‚    â”‚                â”‚
â”‚  â”‚  â”‚         /\                  â”‚    â”‚                â”‚
â”‚  â”‚  â”‚        /  \   â† Zona        â”‚    â”‚                â”‚
â”‚  â”‚  â”‚       /____\                â”‚    â”‚                â”‚
â”‚  â”‚  â”‚                             â”‚    â”‚                â”‚
â”‚  â”‚  â”‚      â”€â”€â”€â”€â”€â”€â”€ â† Linha        â”‚    â”‚                â”‚
â”‚  â”‚  â”‚                             â”‚    â”‚                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚                â”‚
â”‚  â”‚                                      â”‚                â”‚
â”‚  â”‚  Tipo: [Intrusion â–¼]                â”‚                â”‚
â”‚  â”‚  Nome: [Zona proibida________]      â”‚                â”‚
â”‚  â”‚  AÃ§Ã£o: [Criar alarme â–¼]             â”‚                â”‚
â”‚  â”‚  Prioridade: [Alto â–¼]               â”‚                â”‚
â”‚  â”‚                                      â”‚                â”‚
â”‚  â”‚  [Salvar] [Cancelar]                â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Fluxo de Dados

### Live Streaming
```
Camera â†’ vms-ingest â†’ vms-stream â†’ WebRTC â†’ Browser
                     â†“
                  vms-storage (gravaÃ§Ã£o)
```

### Eventos em Tempo Real
```
vms-ai â†’ NATS â†’ vms-events â†’ WebSocket â†’ Browser
   â†“               â†“
vms-face      vms-gateway
vms-lpr
```

### Playback
```
Browser â†’ vms-api â†’ vms-storage â†’ HLS/MP4 â†’ Browser
```

---

## ğŸ› ï¸ Stack TecnolÃ³gico

### Frontend
```json
{
  "framework": "SolidJS",
  "routing": "solid-router",
  "state": "solid-store",
  "styling": "TailwindCSS",
  "icons": "lucide-solid",
  "video": "video.js / hls.js",
  "streaming": "WebRTC (simple-peer)",
  "websocket": "native WebSocket",
  "http": "fetch API",
  "charts": "chart.js"
}
```

### ComunicaÃ§Ã£o
```
â”Œâ”€ Protocolo â”€â”¬â”€ Uso â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WebRTC      â”‚ Live streaming (baixa latÃªncia)  â”‚
â”‚ WebSocket   â”‚ Eventos, alarmes, notificaÃ§Ãµes   â”‚
â”‚ REST API    â”‚ CRUD, configuraÃ§Ãµes              â”‚
â”‚ HLS/DASH    â”‚ Playback de gravaÃ§Ãµes            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ Estrutura de Pastas

```
vms-client/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ camera/
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraGrid.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraCell.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ PTZControl.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StreamPlayer.tsx
â”‚   â”‚   â”œâ”€â”€ playback/
â”‚   â”‚   â”‚   â”œâ”€â”€ Timeline.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ VideoPlayer.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EventList.tsx
â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â”œâ”€â”€ EventTable.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AlarmPanel.tsx
â”‚   â”‚   â”‚   â””â”€â”€ EventDetails.tsx
â”‚   â”‚   â”œâ”€â”€ evidence/
â”‚   â”‚   â”‚   â”œâ”€â”€ EvidenceList.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ EvidenceForm.tsx
â”‚   â”‚   â”‚   â””â”€â”€ CustodyChain.tsx
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â”œâ”€â”€ CameraConfig.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ AnalyticsEditor.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ UserManagement.tsx
â”‚   â”‚   â”‚   â””â”€â”€ SystemSettings.tsx
â”‚   â”‚   â””â”€â”€ common/
â”‚   â”‚       â”œâ”€â”€ Sidebar.tsx
â”‚   â”‚       â”œâ”€â”€ TopBar.tsx
â”‚   â”‚       â”œâ”€â”€ StatusBar.tsx
â”‚   â”‚       â””â”€â”€ Modal.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Live.tsx
â”‚   â”‚   â”œâ”€â”€ Playback.tsx
â”‚   â”‚   â”œâ”€â”€ Events.tsx
â”‚   â”‚   â”œâ”€â”€ Evidence.tsx
â”‚   â”‚   â”œâ”€â”€ Config.tsx
â”‚   â”‚   â””â”€â”€ Login.tsx
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ api.ts         // REST API calls
â”‚   â”‚   â”œâ”€â”€ websocket.ts   // WebSocket connection
â”‚   â”‚   â”œâ”€â”€ webrtc.ts      // WebRTC streaming
â”‚   â”‚   â””â”€â”€ auth.ts        // JWT authentication
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â”œâ”€â”€ camera.ts
â”‚   â”‚   â”œâ”€â”€ events.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ config.ts
â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”œâ”€â”€ camera.ts
â”‚   â”‚   â”œâ”€â”€ event.ts
â”‚   â”‚   â””â”€â”€ evidence.ts
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ index.tsx
â”œâ”€â”€ public/
â”œâ”€â”€ package.json
â””â”€â”€ vite.config.ts
```

---

## ğŸ¯ Funcionalidades Principais

### 1. **Live View** - Igual Digifort
- [x] Multi-cÃ¢mera grid (1-16 cÃ¢meras)
- [x] Drag & drop layout
- [x] Double-click fullscreen
- [x] Right-click menu contextual
- [x] PTZ control overlay
- [x] Digital zoom
- [x] Snapshot (JPEG)
- [x] Instant replay (Ãºltimos 30s)

### 2. **Playback** - Igual Digifort
- [x] Timeline com eventos
- [x] Multi-speed (0.25x - 16x)
- [x] Frame-by-frame
- [x] Busca por data/hora
- [x] Filtro por evento
- [x] Exportar clipe
- [x] Multi-cÃ¢mera sync

### 3. **Eventos** - Igual Digifort
- [x] Real-time event list
- [x] Pop-up notifications
- [x] Sound alerts
- [x] Event filtering
- [x] Acknowledge
- [x] Create evidence from event

### 4. **OcorrÃªncias** - Igual Digifort
- [x] Case management
- [x] Multi-file attachments
- [x] Chain of custody
- [x] Export package (ZIP)
- [x] Search & filter

### 5. **Analytics** - Igual Digifort
- [x] Draw zones (polygon)
- [x] Draw lines
- [x] Visual editor
- [x] Rule configuration
- [x] Live preview

### 6. **LPR** - Igual Digifort
- [x] Plate lists (allow/block/watch)
- [x] Detection history
- [x] Search by plate
- [x] Export reports

### 7. **Face** - Igual Digifort
- [x] Person registration
- [x] Face gallery
- [x] Watchlists
- [x] Detection history
- [x] Match confidence

---

## ğŸš€ PrÃ³ximos Passos

1. **Setup projeto SolidJS** âœ… (prÃ³ximo)
2. **Implementar autenticaÃ§Ã£o** (login)
3. **Live View bÃ¡sico** (1 cÃ¢mera WebRTC)
4. **Grid de cÃ¢meras** (4x4)
5. **Eventos em tempo real** (WebSocket)
6. **Playback simples**
7. **Config de cÃ¢meras**
8. **Analytics visual editor**

---

**Vamos criar o cliente web agora?** ğŸš€
