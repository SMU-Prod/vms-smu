import{c as l,m as k,I as E,k as se,e as ie,a as L,o as ae,t as o,i as e,p as re,S as C,f as M,g as S,F as ne,q as oe,d as ce}from"./index-J60QlFfz.js";import{p as de}from"./play-Db3GjX4-.js";import{x as xe}from"./x-UoLaUWlY.js";var pe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],he=i=>l(E,k(i,{name:"Check",iconNode:pe})),be=he,fe=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],ge=i=>l(E,k(i,{name:"Filter",iconNode:fe})),me=ge,$e=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_e=i=>l(E,k(i,{name:"Image",iconNode:$e})),ue=_e,ve=o('<div class="h-full flex"><div class="flex-1 flex flex-col"><div class="flex items-center justify-between p-4 bg-slate-800/50 border-b border-slate-700"><div class="flex items-center gap-3"><h1 class="text-lg font-semibold text-white">Eventos & Alarmes</h1><span class="px-2 py-0.5 bg-slate-700 rounded-full text-xs text-slate-300"></span></div><button class="btn btn-ghost flex items-center gap-2"> Filtros</button></div><div class="flex-1 overflow-auto"><table class=w-full><thead class="bg-slate-800/80 sticky top-0"><tr class="text-left text-xs text-slate-400"><th class="w-8 px-4 py-3"></th><th class="px-4 py-3">Hora</th><th class="px-4 py-3">Evento</th><th class="px-4 py-3">Câmera</th><th class="px-4 py-3">Prioridade</th><th class="px-4 py-3">Status</th><th class="px-4 py-3 text-right">Ações</th></tr></thead><tbody>'),ye=o('<span class="text-green-400 text-xs">✓'),we=o('<button class="p-1 text-green-400 hover:bg-green-500/10 rounded">'),Ce=o('<tr class="border-b border-slate-700/50 hover:bg-slate-800/50 cursor-pointer"><td class="px-4 py-3"><span></span></td><td class="px-4 py-3 text-sm text-slate-300 font-mono"></td><td class="px-4 py-3 text-sm text-white truncate max-w-xs"></td><td class="px-4 py-3 text-sm text-slate-400"></td><td class="px-4 py-3"><span></span></td><td class="px-4 py-3"></td><td class="px-4 py-3 text-right">'),Se=o('<span class="text-yellow-400 text-xs">Pendente'),ke=o('<div class="w-80 border-l border-slate-700 bg-slate-800/50 flex flex-col"><div class="flex items-center justify-between p-4 border-b border-slate-700"><h2 class="font-semibold text-white">Detalhes</h2><button class="p-1 text-slate-400 hover:text-white rounded"></button></div><div class="flex-1 p-4 space-y-3"><div class="aspect-video bg-slate-900 rounded-lg flex items-center justify-center text-slate-600"></div><div><label class="text-xs text-slate-500">Evento</label><p class="text-white text-sm"></p></div><div class="grid grid-cols-2 gap-3"><div><label class="text-xs text-slate-500">Câmera</label><p class="text-white text-sm"></p></div><div><label class="text-xs text-slate-500">Prioridade</label><p></p></div></div><div><label class="text-xs text-slate-500">Data/Hora</label><p class="text-white text-sm"></p></div></div><div class="p-4 border-t border-slate-700 space-y-2"><button class="w-full btn btn-primary text-sm">Ver Vídeo</button><button class="w-full btn btn-secondary text-sm">Criar Ocorrência');const $={critical:{color:"red",label:"Crítico"},high:{color:"orange",label:"Alto"},medium:{color:"yellow",label:"Médio"},low:{color:"green",label:"Baixo"},info:{color:"blue",label:"Info"}},Ie=()=>{const{state:i,loadEvents:O,acknowledgeEvent:R,selectEvent:N,getFilteredEvents:D}=se(),{loadCameras:H}=ie(),[V,q]=L(!1),[F,Ee]=L([]);ae(()=>{O(),H()});const P=()=>{let a=D();return F().length>0&&(a=a.filter(_=>F().includes(_.priority))),a};return(()=>{var a=ve(),_=a.firstChild,I=_.firstChild,u=I.firstChild,j=u.firstChild,T=j.nextSibling,v=u.nextSibling,z=v.firstChild,G=I.nextSibling,J=G.firstChild,K=J.firstChild,Q=K.nextSibling;return e(u,l(re,{class:"w-5 h-5 text-vms-accent"}),j),e(T,()=>P().length),v.$$click=()=>q(!V()),e(v,l(me,{class:"w-4 h-4"}),z),e(Q,l(ne,{get each(){return P()},children:t=>(()=>{var r=Ce(),c=r.firstChild,y=c.firstChild,d=c.nextSibling,x=d.nextSibling,p=x.nextSibling,h=p.nextSibling,b=h.firstChild,f=h.nextSibling,g=f.nextSibling;return r.$$click=()=>N(t),e(d,()=>t.timestamp.toLocaleTimeString("pt-BR")),e(x,()=>t.description),e(p,()=>t.cameraName),e(b,()=>$[t.priority].label),e(f,l(C,{get when(){return t.acknowledged},get fallback(){return Se()},get children(){return ye()}})),e(g,l(C,{get when(){return!t.acknowledged},get children(){var s=we();return s.$$click=n=>{n.stopPropagation(),R(t.id)},e(s,l(be,{class:"w-4 h-4"})),s}})),M(s=>{var n=`w-3 h-3 rounded-full inline-block bg-${$[t.priority].color}-500`,m=`px-2 py-0.5 rounded-full text-xs priority-${t.priority}`;return n!==s.e&&S(y,s.e=n),m!==s.t&&S(b,s.t=m),s},{e:void 0,t:void 0}),r})()})),e(a,l(C,{get when(){return i().selectedEvent},children:t=>(()=>{var r=ke(),c=r.firstChild,y=c.firstChild,d=y.nextSibling,x=c.nextSibling,p=x.firstChild,h=p.nextSibling,b=h.firstChild,f=b.nextSibling,g=h.nextSibling,s=g.firstChild,n=s.firstChild,m=n.nextSibling,U=s.nextSibling,W=U.firstChild,A=W.nextSibling,X=g.nextSibling,Y=X.firstChild,Z=Y.nextSibling,ee=x.nextSibling,w=ee.firstChild,te=w.firstChild,B=w.nextSibling,le=B.firstChild;return d.$$click=()=>N(null),e(d,l(xe,{class:"w-5 h-5"})),e(p,l(ue,{class:"w-10 h-10"})),e(f,()=>t().description),e(m,()=>t().cameraName),e(A,()=>$[t().priority].label),e(Z,()=>t().timestamp.toLocaleString("pt-BR")),e(w,l(de,{class:"w-4 h-4 mr-2"}),te),e(B,l(oe,{class:"w-4 h-4 mr-2"}),le),M(()=>S(A,`text-${$[t().priority].color}-400 text-sm`)),r})()}),null),a})()};ce(["click"]);export{Ie as default};
