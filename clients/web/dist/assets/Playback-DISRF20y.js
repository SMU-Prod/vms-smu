import{c as t,m as u,I as b,e as ze,k as Be,a as x,o as Ae,t as d,i as e,j as ie,l as Le,F as m,f as p,g as w,S as j,n as re,s as qe,d as Oe}from"./index-J60QlFfz.js";import{c as Ve,d as Ge}from"./download-CQ0m-wxs.js";import{p as He}from"./play-Db3GjX4-.js";var Je=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ke=i=>t(b,u(i,{name:"Calendar",iconNode:Je})),Qe=Ke,Ue=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],We=i=>t(b,u(i,{name:"FastForward",iconNode:Ue})),Xe=We,Ye=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],Ze=i=>t(b,u(i,{name:"Pause",iconNode:Ye})),et=Ze,tt=[["polygon",{points:"11 19 2 12 11 5 11 19",key:"14yba5"}],["polygon",{points:"22 19 13 12 22 5 22 19",key:"1pi1cj"}]],lt=i=>t(b,u(i,{name:"Rewind",iconNode:tt})),st=lt,at=[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]],it=i=>t(b,u(i,{name:"SkipBack",iconNode:at})),rt=it,nt=[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]],ot=i=>t(b,u(i,{name:"SkipForward",iconNode:nt})),dt=ot,ct=d('<div class="absolute top-full left-0 mt-1 w-full bg-slate-800 border border-slate-600 rounded-lg shadow-xl z-20 max-h-60 overflow-auto">'),pt=d("<div class=space-y-2>"),vt=d('<div class="h-full flex flex-col"><div class="flex items-center gap-4 p-4 bg-slate-800/50 border-b border-slate-700"><div class=relative><button class="flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors min-w-[200px]"><span class="flex-1 text-left truncate"></span></button></div><div class="flex items-center gap-2"><input type=date class="px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white"></div><div class="flex items-center gap-2"><input type=time class="px-3 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white"step=1></div><div class=flex-1></div><button class="btn btn-primary flex items-center gap-2">Exportar Clipe</button></div><div class="flex-1 flex overflow-hidden"><div class="flex-1 flex flex-col"><div class="flex-1 p-4"><div class="h-full bg-slate-900 rounded-xl border border-slate-700 overflow-hidden relative"><div class="absolute inset-0 flex items-center justify-center bg-gradient-to-br from-slate-800 to-slate-900"><div class=text-center><p class="text-slate-500 text-lg">Reprodução de vídeo</p><p class="text-slate-600 text-sm mt-1"></p><p class="text-slate-600 text-sm"></p></div></div><div class="absolute top-4 left-4 px-3 py-1.5 bg-black/70 rounded-lg"><span class="text-white font-mono text-lg"></span></div><div class="absolute top-4 right-4 flex items-center gap-4"><div class="px-2 py-1 bg-black/70 rounded text-xs text-slate-300"> @ <!>fps</div></div></div></div><div class="px-4 pb-4"><div class="bg-slate-800 rounded-xl border border-slate-700 p-4"><div class=mb-4><div class="relative h-8 bg-slate-900 rounded-lg overflow-hidden"><div class="absolute inset-0 flex"></div><div class="absolute inset-y-1 left-[10%] right-[60%] bg-green-500/30 rounded"></div><div class="absolute inset-y-1 left-[50%] right-[20%] bg-green-500/30 rounded"></div><div class="absolute top-0 bottom-0 w-0.5 bg-vms-accent"><div class="absolute -top-1 left-1/2 -translate-x-1/2 w-3 h-3 bg-vms-accent rounded-full"></div></div><input type=range min=0 max=86400 class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"></div></div><div class="flex items-center justify-between"><div class="flex items-center gap-4 text-sm"><span class="font-mono text-white"></span><span class=text-slate-500>/ 23:59:59</span></div><div class="flex items-center gap-2"><button class="p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"></button><button class="p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"></button><button class="p-3 bg-vms-primary hover:bg-vms-secondary text-white rounded-full transition-colors"></button><button class="p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"></button><button class="p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded-lg transition-colors"></button></div><div class="flex items-center gap-2"><span class="text-sm text-slate-400">Velocidade:</span><select class="px-3 py-1.5 bg-slate-700 border border-slate-600 rounded-lg text-white text-sm"></select></div></div></div></div></div><div class="w-80 border-l border-slate-700 flex flex-col bg-slate-800/50"><div class="p-4 border-b border-slate-700"><h3 class="font-semibold text-white">Eventos do Dia</h3></div><div class="flex-1 overflow-auto p-2">'),gt=d("<button><span>"),xt=d('<div class="flex-1 border-r border-slate-700/50 relative"><span class="absolute bottom-0 left-0 text-[10px] text-slate-600 px-0.5">'),ut=d("<div>"),bt=d("<option>x"),ht=d('<p class="text-slate-500 text-sm text-center py-8">Nenhum evento encontrado'),ft=d('<button class="w-full p-3 bg-slate-700/50 hover:bg-slate-700 rounded-lg text-left transition-colors"><div class="flex items-start gap-2"><span></span><div class="flex-1 min-w-0"><p class="text-sm font-medium text-white truncate"></p><p class="text-xs text-slate-400 mt-0.5">');const wt=()=>{const{state:i,loadCameras:ne}=ze(),{state:oe,loadEvents:de}=Be(),[y,ce]=x("cam-001"),[R,pe]=x(new Date().toISOString().split("T")[0]),[z,ve]=x(!1),[v,S]=x(0),[ge,xe]=x(1),[B,A]=x(!1);Ae(()=>{ne(),de()});const L=o=>{const _=Math.floor(o/3600),h=Math.floor(o%3600/60),g=o%60;return`${String(_).padStart(2,"0")}:${String(h).padStart(2,"0")}:${String(g).padStart(2,"0")}`},$=()=>i().cameras.find(o=>o.id===y()),C=()=>oe().events.filter(o=>o.cameraId===y()).slice(0,10),ue=[.25,.5,1,2,4,8,16];return(()=>{var o=vt(),_=o.firstChild,h=_.firstChild,g=h.firstChild,q=g.firstChild,k=h.nextSibling,N=k.firstChild,F=k.nextSibling,be=F.firstChild,he=F.nextSibling,O=he.nextSibling,fe=O.firstChild,me=_.nextSibling,V=me.firstChild,G=V.firstChild,$e=G.firstChild,H=$e.firstChild,J=H.firstChild,K=J.firstChild,Q=K.nextSibling,_e=Q.nextSibling,U=H.nextSibling,we=U.firstChild,ye=U.nextSibling,M=ye.firstChild,W=M.firstChild,X=W.nextSibling;X.nextSibling;var Se=G.nextSibling,Ce=Se.firstChild,Y=Ce.firstChild,Z=Y.firstChild,ee=Z.firstChild,ke=ee.nextSibling,Ne=ke.nextSibling,E=Ne.nextSibling,te=E.nextSibling,Fe=Y.nextSibling,le=Fe.firstChild,Me=le.firstChild,se=le.nextSibling,ae=se.firstChild,I=ae.nextSibling,P=I.nextSibling,T=P.nextSibling,Ee=T.nextSibling,Ie=se.nextSibling,Pe=Ie.firstChild,D=Pe.nextSibling,Te=V.nextSibling,De=Te.firstChild,je=De.nextSibling;return g.$$click=()=>A(!B()),e(g,t(ie,{class:"w-4 h-4 text-slate-400"}),q),e(q,()=>$()?.name||"Selecione"),e(g,t(Le,{class:"w-4 h-4 text-slate-400"}),null),e(h,t(j,{get when(){return B()},get children(){var l=ct();return e(l,t(m,{get each(){return i().cameras},children:s=>(()=>{var a=gt(),r=a.firstChild;return a.$$click=()=>{ce(s.id),A(!1)},e(a,()=>s.name,null),p(n=>{var c=`
                      w-full px-4 py-2 text-left hover:bg-slate-700 transition-colors flex items-center gap-2
                      ${s.id===y()?"bg-vms-primary/20 text-vms-accent":"text-slate-300"}
                    `,f=`w-2 h-2 rounded-full ${s.status==="online"?"bg-green-500":"bg-red-500"}`;return c!==n.e&&w(a,n.e=c),f!==n.t&&w(r,n.t=f),n},{e:void 0,t:void 0}),a})()})),l}}),null),e(k,t(Qe,{class:"w-4 h-4 text-slate-400"}),N),N.$$input=l=>pe(l.currentTarget.value),e(F,t(Ve,{class:"w-4 h-4 text-slate-400"}),be),e(O,t(Ge,{class:"w-4 h-4"}),fe),e(J,t(ie,{class:"w-24 h-24 text-slate-700 mx-auto mb-4"}),K),e(Q,()=>$()?.name),e(_e,R),e(we,()=>L(v())),e(M,()=>$()?.resolution,W),e(M,()=>$()?.fps,X),e(ee,t(m,{get each(){return Array.from({length:24})},children:(l,s)=>(()=>{var a=xt(),r=a.firstChild;return e(r,()=>String(s()).padStart(2,"0")),a})()})),e(Z,t(m,{get each(){return C()},children:l=>{const s=Math.random()*80+10;return(()=>{var a=ut();return re(a,"left",`${s}%`),p(r=>{var n=`absolute top-0 bottom-0 w-0.5 ${l.priority==="critical"?"bg-red-500":l.priority==="high"?"bg-orange-500":"bg-yellow-500"}`,c=l.description;return n!==r.e&&w(a,r.e=n),c!==r.t&&qe(a,"title",r.t=c),r},{e:void 0,t:void 0}),a})()}}),E),te.$$input=l=>S(parseInt(l.currentTarget.value)),e(Me,()=>L(v())),e(ae,t(st,{class:"w-5 h-5"})),I.$$click=()=>S(Math.max(0,v()-1)),e(I,t(rt,{class:"w-5 h-5"})),P.$$click=()=>ve(!z()),e(P,t(j,{get when(){return z()},get fallback(){return t(He,{class:"w-6 h-6"})},get children(){return t(et,{class:"w-6 h-6"})}})),T.$$click=()=>S(Math.min(86400,v()+1)),e(T,t(dt,{class:"w-5 h-5"})),e(Ee,t(Xe,{class:"w-5 h-5"})),D.addEventListener("change",l=>xe(parseFloat(l.currentTarget.value))),e(D,t(m,{each:ue,children:l=>(()=>{var s=bt(),a=s.firstChild;return s.value=l,e(s,l,a),s})()})),e(je,t(j,{get when(){return C().length>0},get fallback(){return ht()},get children(){var l=pt();return e(l,t(m,{get each(){return C()},children:s=>(()=>{var a=ft(),r=a.firstChild,n=r.firstChild,c=n.nextSibling,f=c.firstChild,Re=f.nextSibling;return e(f,()=>s.description),e(Re,()=>s.timestamp.toLocaleTimeString("pt-BR")),p(()=>w(n,`
                          w-2 h-2 rounded-full mt-1.5 flex-shrink-0
                          ${s.priority==="critical"?"bg-red-500":s.priority==="high"?"bg-orange-500":s.priority==="medium"?"bg-yellow-500":"bg-green-500"}
                        `)),a})()})),l}})),p(l=>re(E,"left",`${v()/86400*100}%`)),p(()=>N.value=R()),p(()=>te.value=v()),p(()=>D.value=ge()),o})()};Oe(["click","input"]);export{wt as default};
